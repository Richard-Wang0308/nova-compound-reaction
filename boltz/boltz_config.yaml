# Boltz configuration
seed: 68
recycling_steps: 3
diffusion_samples: 1
sampling_steps: 100
sampling_steps_affinity: 100
diffusion_samples_affinity: 3
affinity_mw_correction: true
output_format: "pdb"
override: true
no_kernels: true
remove_files: true # Remove files after processing

batch_predictions: true

# DataLoader optimization - CRITICAL for performance
# With batch_size=1 (mandatory for structure prediction), we MUST process many molecules in parallel via workers
# This prevents GPU from being idle 99% of the time waiting for DataLoader
# Recommended: 8-12 for RTX 3090 (balance between speed, memory, and CPU usage)
# Each worker handles file I/O, RDKit parsing, tokenization in parallel (CPU-intensive)
# WARNING: Too many workers can cause OOM or CPU overload - reduce if process gets killed or CPU spikes
num_workers: 8

# Precomputed conformers optimization (LARGEST WIN - saves CPU time)
# Precompute conformers in parallel before inference to skip expensive RDKit embedding
use_precomputed_conformers: true  # Enable precomputation (recommended)
precompute_workers: 32  # Number of parallel workers for conformer generation
precompute_shard_size: 1000  # Number of records per shard file

# Model quantization (for faster inference)
# Options: "none", "fp16", "int8"
# FP16: ~2x faster, minimal accuracy loss (recommended)
# INT8: ~4x faster, some accuracy loss (experimental)
quantization: "fp16"

